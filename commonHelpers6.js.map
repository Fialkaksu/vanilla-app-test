{"version":3,"file":"commonHelpers6.js","sources":["../src/js/promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst options = {\n  class: 'promisesToast',\n  position: 'topRight',\n  close: false,\n  timeout: 5000,\n};\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const formElements = e.currentTarget.elements;\n  const amount = convertToNumber('amount', formElements.amount.value);\n  const step = convertToNumber('step', formElements.step.value);\n  let delay = convertToNumber('delay', formElements.delay.value);\n\n  for (let i = 1; i <= amount; i++) {\n    createPromise(i, delay);\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n\n  promise\n    .then(({ position, delay }) => {\n      iziToast.success({\n        message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n        ...options,\n      });\n    })\n    .catch(({ position, delay }) => {\n      iziToast.error({\n        message: `❌ Rejected promise ${position} in ${delay}ms`,\n        ...options,\n      });\n    });\n\n  form.reset();\n}\n\nfunction convertToNumber(paramName, value) {\n  if (Number(value) && value > 0) {\n    return Number(value);\n  }\n\n  const correctedValue = paramName === 'amount' ? 1 : 0;\n\n  iziToast.info({\n    message: `The ${paramName} parameter value with a value of ${value} is incorrect and has been changed to ${correctedValue}.`,\n    ...options,\n  });\n\n  return correctedValue;\n}\n"],"names":["options","form","onFormSubmit","e","formElements","amount","convertToNumber","step","delay","i","createPromise","position","shouldResolve","resolve","reject","iziToast","paramName","value","correctedValue"],"mappings":"wIAGA,MAAMA,EAAU,CACd,MAAO,gBACP,SAAU,WACV,MAAO,GACP,QAAS,GACX,EACMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAeD,EAAE,cAAc,SAC/BE,EAASC,EAAgB,SAAUF,EAAa,OAAO,KAAK,EAC5DG,EAAOD,EAAgB,OAAQF,EAAa,KAAK,KAAK,EAC5D,IAAII,EAAQF,EAAgB,QAASF,EAAa,MAAM,KAAK,EAE7D,QAASK,EAAI,EAAGA,GAAKJ,EAAQI,IAC3BC,EAAcD,EAAGD,CAAK,EACtBA,GAASD,CAEb,CAEA,SAASG,EAAcC,EAAUH,EAAO,CACtC,MAAMI,EAAgB,KAAK,OAAM,EAAK,GAEtB,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/C,WAAW,IAAM,CACXF,EACFC,EAAQ,CAAE,SAAAF,EAAU,MAAAH,CAAK,CAAE,EAE3BM,EAAO,CAAE,SAAAH,EAAU,MAAAH,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,EAGE,KAAK,CAAC,CAAE,SAAAG,EAAU,MAAAH,KAAY,CAC7BO,EAAS,QAAQ,CACf,QAAS,uBAAuBJ,CAAQ,OAAOH,CAAK,KACpD,GAAGR,CACX,CAAO,CACP,CAAK,EACA,MAAM,CAAC,CAAE,SAAAW,EAAU,MAAAH,KAAY,CAC9BO,EAAS,MAAM,CACb,QAAS,sBAAsBJ,CAAQ,OAAOH,CAAK,KACnD,GAAGR,CACX,CAAO,CACP,CAAK,EAEHC,EAAK,MAAK,CACZ,CAEA,SAASK,EAAgBU,EAAWC,EAAO,CACzC,GAAI,OAAOA,CAAK,GAAKA,EAAQ,EAC3B,OAAO,OAAOA,CAAK,EAGrB,MAAMC,EAAiBF,IAAc,SAAW,EAAI,EAEpD,OAAAD,EAAS,KAAK,CACZ,QAAS,OAAOC,CAAS,oCAAoCC,CAAK,yCAAyCC,CAAc,IACzH,GAAGlB,CACP,CAAG,EAEMkB,CACT"}