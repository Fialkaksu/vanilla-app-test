{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/cat-search.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_nOdnL3Dj9jjF4zVLjteozldoqmiVUxxCRsrlPoRVyonLQDm4DFuaUNiaRzafsnXC';\n\nexport async function fetchBreeds() {\n  return axios.get(`https://api.thecatapi.com/v1/breeds`);\n}\n\nexport async function fetchCatByBreed(breedId) {\n  return axios.get(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n  );\n}\n","import Choices from 'choices.js';\nimport 'choices.js/public/assets/styles/choices.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectors = {\n  breedSelect: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nselectors.breedSelect.addEventListener('change', onBreedSelectChange);\n\n(function addOptions() {\n  fetchBreeds()\n    .then(response => response.data)\n    .then(breeds => {\n      renderOptions(breeds);\n      new Choices(selectors.breedSelect, {\n        searchEnabled: true,\n      });\n    })\n    .catch(err => {\n      console.log(err);\n      showError();\n    })\n    .finally(() => {\n      selectors.loader.classList.add('hide');\n      selectors.breedSelect.classList.remove('hide');\n    });\n})();\n\nfunction onBreedSelectChange() {\n  selectors.loader.classList.remove('hide');\n  selectors.catInfo.innerHTML = '';\n\n  const breedId = selectors.breedSelect.value;\n\n  fetchCatByBreed(breedId)\n    .then(response => response.data)\n    .then(data => {\n      renderCatInfo(data[0]);\n    })\n    .catch(err => {\n      console.log(err);\n      showError();\n    })\n    .finally(() => {\n      selectors.loader.classList.add('hide');\n    });\n}\n\nfunction renderOptions(breeds) {\n  const markup = breeds\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n\n  selectors.breedSelect.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction renderCatInfo(cat) {\n  const { url, breeds } = cat;\n  const { name, description, temperament } = breeds[0];\n  const markup = `\n    <div class=\"cat-img\">\n      <img src=\"${url}\" alt=\"${name}\">\n    </div>\n    <div class=\"info\">\n      <h2>${name}</h2>\n      <p>${description}</p>\n      <p><b>Temperament:</b> ${temperament}</p>\n    </div>\n  `;\n  selectors.catInfo.innerHTML = markup;\n}\n\nfunction showError() {\n  iziToast.error({\n    message: `Oops! Something went wrong! Try reloading the page!`,\n    position: 'topRight',\n    close: false,\n    timeout: 3000,\n  });\n}\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","selectors","onBreedSelectChange","response","breeds","renderOptions","Choices","err","showError","data","renderCatInfo","markup","id","name","cat","url","description","temperament","iziToast"],"mappings":"sJAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,eAAeC,GAAc,CAClC,OAAOD,EAAM,IAAI,qCAAqC,CACxD,CAEO,eAAeE,EAAgBC,EAAS,CAC7C,OAAOH,EAAM,IACX,wDAAwDG,CAAO,EACnE,CACA,CCPA,MAAMC,EAAY,CAChB,YAAa,SAAS,cAAc,eAAe,EACnD,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEAA,EAAU,YAAY,iBAAiB,SAAUC,CAAmB,GAEnE,UAAsB,CACrBJ,EAAa,EACV,KAAKK,GAAYA,EAAS,IAAI,EAC9B,KAAKC,GAAU,CACdC,EAAcD,CAAM,EACpB,IAAIE,EAAQL,EAAU,YAAa,CACjC,cAAe,EACvB,CAAO,CACP,CAAK,EACA,MAAMM,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfC,GACN,CAAK,EACA,QAAQ,IAAM,CACbP,EAAU,OAAO,UAAU,IAAI,MAAM,EACrCA,EAAU,YAAY,UAAU,OAAO,MAAM,CACnD,CAAK,CACL,KAEA,SAASC,GAAsB,CAC7BD,EAAU,OAAO,UAAU,OAAO,MAAM,EACxCA,EAAU,QAAQ,UAAY,GAE9B,MAAMD,EAAUC,EAAU,YAAY,MAEtCF,EAAgBC,CAAO,EACpB,KAAKG,GAAYA,EAAS,IAAI,EAC9B,KAAKM,GAAQ,CACZC,EAAcD,EAAK,CAAC,CAAC,CAC3B,CAAK,EACA,MAAMF,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfC,GACN,CAAK,EACA,QAAQ,IAAM,CACbP,EAAU,OAAO,UAAU,IAAI,MAAM,CAC3C,CAAK,CACL,CAEA,SAASI,EAAcD,EAAQ,CAC7B,MAAMO,EAASP,EACZ,IAAI,CAAC,CAAE,GAAAQ,EAAI,KAAAC,KAAW,kBAAkBD,CAAE,KAAKC,CAAI,WAAW,EAC9D,KAAK,EAAE,EAEVZ,EAAU,YAAY,mBAAmB,YAAaU,CAAM,CAC9D,CAEA,SAASD,EAAcI,EAAK,CAC1B,KAAM,CAAE,IAAAC,EAAK,OAAAX,CAAQ,EAAGU,EAClB,CAAE,KAAAD,EAAM,YAAAG,EAAa,YAAAC,CAAW,EAAKb,EAAO,CAAC,EAC7CO,EAAS;AAAA;AAAA,kBAECI,CAAG,UAAUF,CAAI;AAAA;AAAA;AAAA,YAGvBA,CAAI;AAAA,WACLG,CAAW;AAAA,+BACSC,CAAW;AAAA;AAAA,IAGxChB,EAAU,QAAQ,UAAYU,CAChC,CAEA,SAASH,GAAY,CACnBU,EAAS,MAAM,CACb,QAAS,sDACT,SAAU,WACV,MAAO,GACP,QAAS,GACb,CAAG,CACH"}